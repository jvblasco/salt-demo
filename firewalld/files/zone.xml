{%- set name = salt['pillar.get']('firewalld:zones:' + zone + ':name', False) -%}
{%- set target = salt['pillar.get']('firewalld:zones:' + zone + ':target', False) -%}
{%- set description = salt['pillar.get']('firewalld:zones:' + zone + ':description', "Enable " + name + " for sources.") -%}
{%- set interfaces = salt['pillar.get']('firewalld:zones:' + zone + ':interfaces', False) -%}
{%- set services = salt['pillar.get']('firewalld:zones:' + zone + ':services', False) -%}
{%- set ips = salt['pillar.get']('firewalld:zones:' + zone + ':ips', False) -%}
{%- set masquerade = salt['pillar.get']('firewalld:zones:' + zone + ':masquerade', False) -%}
<?xml version="1.0" encoding="utf-8"?>
<!--
**** DO NOT EDIT THIS FILE ****
This file is managed by Salt.
Any changes will be overwritten.
-->
<zone{% if target %} target="{{ target }}"{% endif %}>
  <short>{{ name }}</short>
  <description>{{ description }}</description>
  {%- if interfaces %}
  {%- for interface in interfaces %}
  <interface name="{{ interface }}"/>
  {%- endfor %}
  {%- endif %}
  {%- if services %}
  {%- for service in services %}
  <service name="{{ service }}"/>
  {%- endfor %}
  {%- endif %}
  {%- if ips %}
  {%- for source, ip in ips.items() %}
  <!-- {{ source }} -->
  <source address="{{ ip }}"/>
  {%- endfor %}
  {%- endif %}
  {%- if masquerade %}
  <masquerade/>
  {%- endif %}
</zone>
